# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserOutput {
  id: Int!
  name: String
  username: String!
  email: String!
  image: String
  imagePath: String
}

type LoginOutput {
  id: Int!
  accessToken: String!
}

type UserPaginatedOutput {
  users: [UserOutput!]!
  total: Int!
}

type PostOutput {
  id: Int!
  body: String!
  filePath: String
  fileUrl: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type PostPaginatedOutput {
  posts: [PostOutput!]!
  total: Int!
}

type RelationOutput {
  id: Int!
  requester: UserOutput!
  addressee: UserOutput!
  status: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type RelationPaginatedOutput {
  relationships: [RelationOutput!]!
  total: Int!
}

type ChatOutput {
  id: Int!
  chatInitiator: UserOutput!
  chatReceiver: UserOutput!
  lastMessage: String
  lastMessageSender: UserOutput
  createdAt: DateTime!
  updatedAt: DateTime!
}

type ChatPaginatedOutput {
  chats: [ChatOutput!]!
  total: Int!
}

type ChatMessageOutput {
  id: Int!
  sender: UserOutput!
  message: String!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type ChatMessagePaginatedOutput {
  messages: [ChatMessageOutput!]!
  total: Int!
}

type Query {
  usersPaginated(limit: Int = 10, offset: Int = 0): UserPaginatedOutput!
  user(id: Int!): UserOutput
  posts(limit: Int = 10, offset: Int = 0): PostPaginatedOutput!
  postsByUser(userId: Int!, limit: Int = 10, offset: Int = 0): PostPaginatedOutput!
  post(id: Int!): PostOutput
  relationships(userId: Int!, limit: Int = 10, offset: Int = 0): RelationPaginatedOutput!
  chats(limit: Int = 10, offset: Int = 0): ChatPaginatedOutput!
  chatMessages(chatId: Int!, limit: Int = 10, offset: Int = 0): ChatMessagePaginatedOutput!
}

type Mutation {
  createUser(input: CreateUserInput!): UserOutput!
  loginUser(input: LoginInput!): LoginOutput!
  updateUser(input: UpdateUserInput!, image: Upload): UserOutput!
  createPost(body: String!, file: Upload): PostOutput!
  updatePost(id: Int!, body: String!): PostOutput
  deletePost(id: Int!): Boolean!
  createRelationship(addresseeId: Int!): RelationOutput!
  updateRelationshipStatus(id: Int!, status: String!): RelationOutput!
  createChat(chatReceiverId: Float!): ChatOutput!
  updateChat(id: Float!, lastMessage: String!, lastMessageSenderId: Float!): ChatOutput!
}

input CreateUserInput {
  username: String!
  name: String!
  email: String!
  password: String!
}

input LoginInput {
  username: String!
  password: String!
}

input UpdateUserInput {
  name: String
  password: String
  oldPassword: String
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload